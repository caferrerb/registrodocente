<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm orm_2_0.xsd"
	version="2.0">

	<named-query name="Programa.listarTodos"> 
		<query> 
			Select p FROM Programa p
		</query> 
	</named-query> 
	
	<named-query name="Rol.listarRolesUsuario"> 
		<query> 
         SELECT ur.rol FROM UsuarioRol ur WHERE ur.usuario.id = ?1
		</query>
	</named-query>

	<named-query name="Usuario.buscarUser">
		<query>
			SELECT u FROM Usuario u WHERE u.usuario = ?1
		</query> 
	</named-query> 
	
     <named-query name="Registro.listar"> 
		<query> 
			SELECT reg FROM Registro reg 
		</query> 
	</named-query> 
	
	<named-query name="Registro.listarentrefechas">
		<query>
			SELECT reg FROM Registro reg WHERE reg.fecha BETWEEN ?1 AND ?2 AND reg.sesion.curso.asignatura.id = ?3 AND reg.sesion.curso.docente.id = ?4
		</query>
	</named-query>


	<named-query name="Usuario.buscarUserPass">
		<query>
			SELECT u FROM Usuario u WHERE u.usuario = ?1 and u.pass=?2
		</query>
	</named-query>


	<named-query name="Usuario.roles">
		<query>
			SELECT ur.rol FROM UsuarioRol ur WHERE ur.usuario.usuario = ?1
		</query>
	</named-query>


	<named-query name="Acceso.buscarRol">
		<query>
			SELECT ar.acceso FROM AccesoRol ar WHERE ar.rol=?1
		</query>
	</named-query>
	
	<named-query name="Registro.listarRegistrosDocenteAsignatura">
		<query>
			SELECT r FROM Registro r WHERE r.sesion.curso.docente.id=?1 and r.sesion.curso.asignatura.id=?2
		</query>
	</named-query>



</entity-mappings>